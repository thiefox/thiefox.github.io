(function(e){function t(t){for(var a,i,s=t[0],l=t[1],u=t[2],d=0,c=[];d<s.length;d++)i=s[d],o[i]&&c.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);p&&p(t);while(c.length)c.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var p=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a,o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},i=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box"},[n("Card",{staticClass:"card",attrs:{bordered:!1}},[n("h1",{attrs:{slot:"title"},slot:"title"},[e._v("提案")]),n("Row",[n("Col",{attrs:{span:"24"}},[n("Form",[n("FormItem",{attrs:{label:"转账人"}},[n("Input",{attrs:{placeholder:"请输入转账人的地址"},model:{value:e.proposalerAddress,callback:function(t){e.proposalerAddress=t},expression:"proposalerAddress"}})],1),n("FormItem",{attrs:{label:"金额"}},[n("Input",{attrs:{placeholder:"输入转账的金额"},model:{value:e.proposalerValue,callback:function(t){e.proposalerValue=t},expression:"proposalerValue"}})],1)],1)],1),n("Col",{attrs:{span:"24"}},[n("Button",{attrs:{type:"primary",long:"",size:"large"},on:{click:function(t){return e.handelProposale()}}},[e._v("确认")])],1),n("Col",{attrs:{span:"24"}})],1)],1),n("div"),n("Card",{staticClass:"card",attrs:{bordered:!1}},[n("h1",{attrs:{slot:"title"},slot:"title"},[e._v("确认")]),n("Row",[n("Col",{attrs:{span:"24"}},[n("Form",[n("FormItem",{attrs:{label:"ID"}},[n("Input",{attrs:{placeholder:"请点解提案者列表选ID"},model:{value:e.IDValue,callback:function(t){e.IDValue=t},expression:"IDValue"}})],1)],1)],1),n("Col",{attrs:{span:"24"}},[n("Button",{attrs:{type:"primary",long:"",size:"large"},on:{click:function(t){return e.handelConfirm()}}},[e._v("确认")])],1)],1)],1),n("h3",[e._v("提案列表")]),n("Table",{attrs:{columns:e.columns2,data:e.tableValue},on:{"on-row-click":e.handelRorClick}})],1)},l=[],u=[{constant:!1,inputs:[{name:"_newAddr",type:"address"}],name:"setTokenAddr",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_addr",type:"address"}],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"execute",outputs:[{name:"_r",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"m_numOwners",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"m_lastDay",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_tokenAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"m_spentToday",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"m_required",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_h",type:"bytes32"}],name:"confirm",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"today",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_operation",type:"bytes32"},{name:"_owner",type:"address"}],name:"hasConfirmed",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"m_dailyLimit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_owners",type:"address[]"},{name:"_required",type:"uint256"},{name:"_daylimit",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"owner",type:"address"},{indexed:!1,name:"value",type:"uint256"},{indexed:!1,name:"to",type:"address"}],name:"SingleTransact",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"owner",type:"address"},{indexed:!1,name:"operation",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"},{indexed:!1,name:"to",type:"address"}],name:"MultiTransact",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"operation",type:"bytes32"},{indexed:!1,name:"initiator",type:"address"},{indexed:!1,name:"value",type:"uint256"},{indexed:!1,name:"to",type:"address"}],name:"ConfirmationNeeded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"owner",type:"address"},{indexed:!1,name:"operation",type:"bytes32"}],name:"Confirmation",type:"event"}],p=n("e069"),d=n.n(p),c=n("e573"),y=n.n(c),m=(n("9ba9"),"0x88d025a59ddb28004ad3ea2ed793c5dcebd67033"),f="1";if("undefined"===typeof window.ethereum?(alert("Looks like you need a Dapp browser to get started."),alert("Consider installing MetaMask!")):ethereum.enable().catch(function(e){}).then(function(e){console.log(ethereum),ethereum.networkVersion!==f&&alert("此应用程序需要主网络，请在MetaMask用户界面中进行切换 UI.");var t=e[0];console.log(t)}),"undefined"!==typeof window.ethereum||"undefined"!==typeof window.web3){var b=window.ethereum||window.web3.currentProvider;a=new y.a(b)}try{window.web33=a.utils}catch(D){alert(" open MetaMask")}var v=new a.eth.Contract(u,m),w=function(e,t){var n=a.utils.toHex(a.utils.toWei(t,"mwei"));v.methods.execute(e,n).send({from:window.web3.currentProvider.selectedAddress,to:m,gas:5e5},function(e,t){console.log(e,t),e||d.a.Message.info("提案成功！")}).then(function(e,t){console.log(e,t)})},h=function(e){v.getPastEvents("ConfirmationNeeded",{fromBlock:0,toBlock:"latest"},function(t,n){var o;t||(console.log(n),o=n.map(function(e,t){var n=e.returnValues,o={};return o.initiator=n.initiator,o.operation=n.operation,o.to=n.to,o.value=a.utils.fromWei(n.value._hex,"mwei"),o}),e(o))})},g=function(e){v.methods.confirm(e).send({from:window.web3.currentProvider.selectedAddress,to:m,gas:5e5},function(e,t){e||(console.log("confirmBtn",t),d.a.Message.info("确认成功！"))})},_=(n("3e8f"),{name:"HelloWorld",data:function(){return{msg:"jkljlkjk",proposalerAddress:"",proposalerValue:"",tableValue:[],IDValue:"",columns2:[{title:"提案者",key:"initiator"},{title:"ID",key:"operation"},{title:"地址",key:"to"},{title:"金额",key:"value"}]}},methods:{handelRorClick:function(e){console.log(e),this.IDValue=e.operation},handelProposale:function(){console.log("触发"),w(this.proposalerAddress,this.proposalerValue)},handelConfirm:function(){console.log(this.IDValue),g(this.IDValue)}},created:function(){var e=this;console.log("初始化完成"),h(function(t){console.log(t),e.tableValue=t.reverse()}),setInterval(function(){h(function(t){console.log(t),e.tableValue=t.reverse()})},4e3)}}),x=_,k=(n("766f"),n("2877")),M=Object(k["a"])(x,s,l,!1,null,"6a6c987d",null),C=M.exports,V={name:"app",components:{HelloWorld:C}},I=V,j=(n("5c0b"),Object(k["a"])(I,r,i,!1,null,null,null)),O=j.exports;n("dcad");o["default"].config.productionTip=!1,o["default"].use(d.a),new o["default"]({iView:d.a,render:function(e){return e(O)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("5e27"),o=n.n(a);o.a},"5e27":function(e,t,n){},"766f":function(e,t,n){"use strict";var a=n("d74b"),o=n.n(a);o.a},d74b:function(e,t,n){}});
//# sourceMappingURL=app.4ac73a88.js.map